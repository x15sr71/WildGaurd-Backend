generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String            @id @default(uuid())
  firebaseId       String            @unique
  email            String            @unique
  name             String?
  imageUrl         String?
  currentLocation  Json?
  createdAt        DateTime          @default(now())
  updatedAt        DateTime          @updatedAt
  volunteerProfile VolunteerProfile?
}


model VolunteerProfile {
  userId         String           @id
  user           User             @relation(fields: [userId], references: [id], onDelete: Cascade)
  skills         String[]
  imageUrl       String?
  email          String?          // Volunteer contact email
  phone          String           // Volunteer contact phone number
  location       String?
  helpPosts      AnimalHelpPost[] // Relation to AnimalHelpPost
}

model AnimalHelpPost {
  id                String   @id @default(uuid())
  volunteerId       String
  volunteer         VolunteerProfile @relation(fields: [volunteerId], references: [userId], onDelete: Cascade)
  images            String[] // Store image URLs in an array
  description       String
  incidentLocation  Json?  // Location where the animal was found
  noticedAt         DateTime // When the volunteer noticed the animal
  currentActions    String   // What the volunteer is doing right now to help
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}


model Organization {
  id                     String   @id @default(uuid())
  name                   String
  description            String?
  focusArea              String?
  summary                String?
  location               String?
  contactNumber          String?
  emailAddress           String?
  website                String?
  speciesSpecialization  String?
  servicesOffered        String?
  operatingHours         String?
  geographicalCoverage   String?
  affiliations           String?
  emergencyResponse      String?
  volunteerOpportunities String?
  educationalPrograms    String?
  licensesCertifications String?
  fundingSources         String?
  successStories         String?
  googleMapLocation      Json?
  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
}
